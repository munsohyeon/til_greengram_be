<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.wikibook.greengram.application.feedcomment.FeedCommentMapper">

    <select id="findAllByFeedIdLimitedTo">
        SELECT f.feed_comment_id AS feedCommentId, f.comment, u.user_id AS writerUserId,
        u.uid AS writerUid, u.nick_name AS writerNickName, u.pic AS writerPic
        FROM feed_comment f
        INNER JOIN user u
        ON u.user_id = f.user_id
        WHERE f.feed_id = #{feedId}
        ORDER BY f.feed_comment_id DESC
        LIMIT #{startIdx}, #{size}
    </select>
</mapper>